module.exports = {
  config: {
    name: "caption",
    version: "1.0",
    hasPermssion: 0,
    credits: "Rakib Boss",
    description: "Prefix chara status/caption dey",
    commandCategory: "auto",
    usages: "",
    cooldowns: 2,
  },

  handleEvent: async function ({ event, api }) {
    const { body, threadID, messageID } = event;
    if (!body) return;

    const triggerTexts = [
      "ekta caption likhe daw",
      "ekta status likhe daw",
      "ekta shayri likhe daw",
      "ржПржХржЯрж╛ ржХрзНржпрж╛ржкрж╢ржи ржжрж╛ржУ",
      "ржПржХржЯрж╛ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржжрж╛ржУ",
      "ржПржХржЯрж╛ рж╢рж╛рзЯрзЗрж░рж┐ ржжрж╛ржУ"
    ];

    const lowerBody = body.toLowerCase();
    if (!triggerTexts.some(txt => lowerBody.includes(txt))) return;

    const captions = [
      "ржЖржорж┐ рж╣рж╛рж░рж┐рзЯрзЗ ржпрзЗрждрзЗ ржЪрж╛ржЗ рждрзЛржорж╛рж░ ржнрж╛рж▓ржмрж╛рж╕рж╛рзЯ",
      "рждрзЛржорж╛рж░ ржЕржкрзЗржХрзНрж╖рж╛рзЯ ржжрж┐ржи ржЧрзБржирж┐",
      "рждрзБржорж┐ ржирзЗржЗ ржмрж▓рзЗ ржЖржХрж╛рж╢ржЯрж╛ ржЖржЬ ржХрж╛ржБржжржЫрзЗ",
      "ржнрж╛рж▓рзЛржмрж╛рж╕рж╛ ржорж╛ржирзЗ рж╢рзБржзрзБ ржкрж╛ржУрзЯрж╛ ржирзЯ, ржХржЦржирзЛ ржХржЦржирзЛ рж╣рж╛рж░рж┐рзЯрзЗржУ ржжрзЗржУрзЯрж╛",
      "ржпрзЗ ржнрж╛рж▓рзЛржмрж╛рж╕рзЗ рж╕рзЗ ржХржЦржирзЛ ржЪрж▓рзЗ ржпрж╛рзЯ ржирж╛",
      "ржЪрзЛржЦрзЗрж░ ржХрзЛржирзЗ ржЬржорж╛ ржХрж╖рзНржЯржЧрзБрж▓рзЛржЗ рж╕рждрзНржпрж┐ржХрж╛рж░рзЗрж░ ржЕржирзБржнржм",
      "рждрзЛржорж╛рж░ ржПржХржЯрж┐ ржорж┐рж╖рзНржЯрж┐ рж╣рж╛рж╕рж┐ ржЖржорж╛рж░ рж╕ржм ржХрж╖рзНржЯ ржнрзБрж▓рж┐рзЯрзЗ ржжрзЗрзЯ",
      "ржЪрзБржк ржХрж░рзЗ ржнрж╛рж▓рзЛржмрж╛рж╕рж┐, ржмрж▓рзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░рж┐ ржирж╛",
      "рждрзЛржорж╛ржХрзЗ ржЫрж╛рзЬрж╛ ржЬрзАржмржи ржЕрж╕ржорзНржкрзВрж░рзНржг",
      "ржпрзЗ ржнрж╛рж▓рзЛржмрж╛рж╕рж╛ ржмрзБржЭрзЗ ржирж╛, рж╕рзЗ ржХржЦржирзЛ ржнрж╛рж▓рзЛржмрж╛рж╕рждрзЗ ржкрж╛рж░рзЗ ржирж╛"
    ];

    const randomCaption = captions[Math.floor(Math.random() * captions.length)];

    const message = `тАОтХнтАвтФДтФЕтХРтХРтЭБЁЯМ║тЭБтХРтХРтФЕтФДтАвтХо\n┬а┬а  -${randomCaption}-\nтХ░тАвтФДтФЕтХРтХРтЭБЁЯМ║тЭБтХРтХРтФЕтФДтАвтХп`;

    return api.sendMessage(message, threadID, messageID);
  },

  run: async function () {} // empty because we're using handleEvent
};
